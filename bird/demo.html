
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
    <title>图片的左右移动，动画效果的实现</title>
    <script LANGUAGE="JavaScript"><!--
    step = 0;
    obj = new Image();
    function anim(xp,xk,smer)
    {
        obj.style.top = x;
        x += step*smer;
        if (x>=(xk+xp)/2) {
            if (smer == 1) step--;
            else step++;
        }
        else {
            if (smer == 1) step++;
            else step--;
        }
        if (x >= xk) {
            x = xk;
            smer = -1;
        }
        if (x <= xp) {
            x = xp;
            smer = 1;
        }
        setTimeout('anim('+xp+','+xk+','+smer+')', 50);
    }
    function moveLR(objID,movingarea_width,c)
    {
        if (navigator.appName=="Netscape") window_width = window.innerWidth;
        else window_width = document.body.offsetWidth;
        obj = document.images[objID];
        image_height = obj.width;
        x1 = obj.style.top;
        x = Number(x1.substring(0,x1.length-2));
        if (c == 0) {
            if (movingarea_width == 0) {
                _margin = window_width - image_height;
                anim(x,bottom_margin,1);
            }
            else {
                bottom_margin = x + movingarea_width - image_height;
                if (movingarea_width < x + image_height) window.alert("No space for moving!");
                else anim(x,bottom_margin,1);
            }
        }
        else {
            if (movingarea_width == 0) bottom_margin = window_width - image_height;
            else {
                x = Math.round((window_width-movingarea_width)/2);
                bottom_margin = Math.round((window_width+movingarea_width)/2)-image_height;
            }
            anim(x,bottom_margin,1);
        }
    }
    //--></script>
</head>

<body>
<a href="/" target="_blank">
    <img src="http://img1.niutuku.com/tech/1208/2421/tech-2421-34djwl4senw.gif" name="picture"
         style="position: absolute; top: 70px; top: 30px;" BORDER="0">
</a>
<script LANGUAGE="JavaScript"><!--
setTimeout("moveLR('picture',300,1)",10);
//--></script>
</body>
</html> 
